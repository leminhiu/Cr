<!doctype html>

<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>L·∫•y qu√† Trung Thu</title>
  <style>
    :root{--bg:#fff7ec;--card:#fff;--accent:#ff6b6b;--shadow:rgba(20,20,20,0.12)}
    *{box-sizing:border-box}
    body{font-family:Inter, system-ui, sans-serif;background:linear-gradient(180deg,#fffaf0 0%, #fff1e6 100%);height:100vh;margin:0;display:flex;align-items:center;justify-content:center}
    .stage{width:360px;height:540px;background:var(--card);border-radius:18px;box-shadow:0 12px 30px var(--shadow);padding:22px;position:relative;overflow:hidden}
    h1{font-size:20px;margin:8px 0 18px;text-align:center}
    .question{display:flex;flex-direction:column;align-items:center;gap:12px}
    .buttons{display:flex;gap:12px}
    button{padding:10px 18px;border-radius:10px;border:0;cursor:pointer;font-weight:600}
    .yes{background:linear-gradient(90deg,#ffd66b,#ff9f43)}
    .no{background:#e9eef4;color:#333}/* gift */
.playground{position:relative;flex:1;margin-top:12px;border-radius:12px;background:linear-gradient(180deg,#fffdfa,#fff7f0);display:flex;align-items:center;justify-content:center}
.gift{width:110px;height:110px;border-radius:12px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transition:transform 220ms ease, box-shadow 220ms;box-shadow:0 8px 20px rgba(0,0,0,0.12);display:flex;align-items:center;justify-content:center}
.box{width:100%;height:100%;background:linear-gradient(180deg,#ff9f43,#ff6b6b);border-radius:10px;position:relative;overflow:visible}
.lid{position:absolute;left:0;right:0;top:-18px;height:36px;background:#ffd66b;border-radius:8px 8px 6px 6px;transform-origin:center bottom;transition:transform 450ms cubic-bezier(.2,.9,.3,1)}
.ribbon{position:absolute;left:50%;top:12px;transform:translateX(-50%);width:18px;height:60px;background:rgba(255,255,255,0.15);border-radius:6px}
.open .lid{transform:rotateX(75deg) translateY(-6px)}

.message{position:absolute;left:16px;right:16px;bottom:18px;padding:10px 12px;border-radius:10px;background:rgba(255,255,255,0.9);text-align:center;display:none}
.message.show{display:block}

.hint{font-size:12px;color:#666;margin-top:8px;text-align:center}

@media (max-width:420px){.stage{width:320px;height:520px}}

  </style>
</head>
<body>
  <div class="stage" role="application">
    <div class="question">
      <h1>l·∫•y qu√† trung thu kh√¥ng?</h1>
      <div class="buttons">
        <button id="yes" class="yes">c√≥</button>
        <button id="no" class="no">kh√¥ng</button>
      </div>
    </div><div class="playground" id="playground">
  <div class="gift" id="gift" aria-hidden="true">
    <div class="box" id="box">
      <div class="lid" id="lid"></div>
      <div class="ribbon"></div>
    </div>
  </div>
</div>

<div id="message" class="message" role="status"></div>
<div class="hint">Nh·∫•n "c√≥" ƒë·ªÉ xem qu√† nh·∫£y random, ho·∫∑c "kh√¥ng" ƒë·ªÉ hi·ªán c√¢u n√≥i.</div>

  </div>  <script>
    const yes = document.getElementById('yes');
    const no = document.getElementById('no');
    const gift = document.getElementById('gift');
    const lid = document.getElementById('lid');
    const playground = document.getElementById('playground');
    const message = document.getElementById('message');

    function randInt(min, max){return Math.floor(Math.random()*(max-min+1))+min}

    yes.addEventListener('click', ()=>{
      message.classList.remove('show');
      lid.style.transform = '';
      // make the gift jump to random positions inside playground
      const jumps = randInt(6,12);
      const gw = gift.offsetWidth, gh = gift.offsetHeight;
      const pw = playground.clientWidth, ph = playground.clientHeight;
      for(let i=0;i<jumps;i++){
        const delay = i*220;
        setTimeout(()=>{
          const x = randInt(8, pw - gw - 8);
          const y = randInt(8, ph - gh - 8);
          gift.style.transform = `translate(${x}px, ${y}px)`;
          // little scale/pop on move
          gift.style.transition = 'transform 220ms cubic-bezier(.2,.9,.3,1), box-shadow 220ms';
          gift.style.boxShadow = '0 14px 30px rgba(0,0,0,0.18)';
          setTimeout(()=>{ gift.style.boxShadow = '0 8px 20px rgba(0,0,0,0.12)'; }, 200);
        }, delay);
      }
      // after final jump, open lid and show a message
      setTimeout(()=>{
        gift.classList.add('open');
        message.textContent = 'Ch√∫c m·ª´ng! B·∫°n ƒë√£ nh·∫≠n ƒë∆∞·ª£c qu√† trung thu üéÅ';
        message.classList.add('show');
      }, jumps*220 + 150);
    });

    no.addEventListener('click', ()=>{
      // show the record text exactly as user asked
      message.textContent = 'v·∫≠y th√¨ th√¥i nh√© =))';
      message.classList.add('show');
    });

    // accessibility: allow keyboard
    yes.addEventListener('keyup', (e)=>{ if(e.key==='Enter' || e.key===' ') yes.click(); });
    no.addEventListener('keyup', (e)=>{ if(e.key==='Enter' || e.key===' ') no.click(); });

    // position gift initially to center using translate
    function centerGift(){
      const gw = gift.offsetWidth, gh = gift.offsetHeight;
      const pw = playground.clientWidth, ph = playground.clientHeight;
      const x = Math.round((pw - gw)/2);
      const y = Math.round((ph - gh)/2);
      gift.style.transform = `translate(${x}px, ${y}px)`;
    }
    window.addEventListener('load', centerGift);
    window.addEventListener('resize', centerGift);
  </script></body>
</html>
